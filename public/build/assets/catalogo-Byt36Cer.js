import{_ as v}from"./AuthenticatedLayout-D5lz5BQL.js";import{o as a,f as d,b as r,t as c,az as w,F as y,l as k,e as $,Q as C,p as m,h as p,a as b,u as S,w as x,Z as I,c as j}from"./app-l7-T_QVc.js";import{d as B}from"./index-DUepgUvg.js";import"./ApplicationLogo-Dn1V6JC9.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const L={class:"bg-white dark:bg-gray-700 shadow rounded-lg p-4 flex flex-col"},P=["src"],z={class:"text-lg font-bold text-gray-800 dark:text-gray-100"},A={class:"text-sm text-gray-600 dark:text-gray-400 mt-2"},E={class:"text-lg font-semibold text-gray-800 dark:text-gray-100 mt-2"},R={__name:"producto",props:{producto:Object},setup(t,{emit:n}){const i=t,s=n,l=()=>{s("agregar-carrito",i.producto)};return(u,o)=>(a(),d("div",L,[r("img",{src:t.producto.imagen,alt:"Imagen del producto",class:"h-48 w-full object-cover rounded-t-lg"},null,8,P),r("h3",z,c(t.producto.nombre),1),r("p",A,c(t.producto.descripcion),1),r("p",E,"$ "+c(t.producto.precio),1),r("button",{onClick:l,class:"mt-auto bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-md"}," Agregar al Carrito ")]))}};/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */var _;(function(t){t.pop="pop",t.push="push"})(_||(_={}));var h;(function(t){t.back="back",t.forward="forward",t.unknown=""})(h||(h={}));var f;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(f||(f={}));const V=Symbol("");function D(){return w(V)}const O={class:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg"},U={key:0},q={class:"w-full table-auto border-collapse border border-gray-300 dark:border-gray-700"},J={class:"border border-gray-300 dark:border-gray-700 px-4 py-2"},K={class:"border border-gray-300 dark:border-gray-700 px-4 py-2"},M={class:"border border-gray-300 dark:border-gray-700 px-4 py-2"},Q={class:"border border-gray-300 dark:border-gray-700 px-4 py-2"},Y={class:"mt-4 flex justify-end"},Z={key:1,class:"text-gray-500 dark:text-gray-400 mt-4"},G={__name:"Carrito",props:{carrito:{type:Array,required:!0}},emits:["compra-realizada"],setup(t,{emit:n}){D();const i=t,s=()=>{if(i.carrito.length===0){alert("El carrito está vacío.");return}localStorage.removeItem("carrito"),localStorage.setItem("carrito",JSON.stringify(i.carrito))},l=()=>{s(),B.Inertia.visit(route("admin.ventas.create"))};return(u,o)=>(a(),d("div",O,[o[1]||(o[1]=r("h2",{class:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-4"},"Carrito",-1)),t.carrito&&t.carrito.length>0?(a(),d("div",U,[r("table",q,[o[0]||(o[0]=r("thead",null,[r("tr",{class:"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-gray-100"},[r("th",{class:"border border-gray-300 dark:border-gray-700 px-4 py-2 text-left"},"Producto"),r("th",{class:"border border-gray-300 dark:border-gray-700 px-4 py-2 text-left"},"Cantidad"),r("th",{class:"border border-gray-300 dark:border-gray-700 px-4 py-2 text-left"},"Precio"),r("th",{class:"border border-gray-300 dark:border-gray-700 px-4 py-2 text-left"},"Total")])],-1)),r("tbody",null,[(a(!0),d(y,null,k(t.carrito,e=>(a(),d("tr",{key:e.id,class:"border-b border-gray-300 dark:border-gray-700"},[r("td",J,c(e.nombre),1),r("td",K,c(e.cantidad),1),r("td",M,c(e.precio)+" USD",1),r("td",Q,c((e.cantidad*e.precio).toFixed(2))+" USD ",1)]))),128))])]),r("div",Y,[r("button",{onClick:$(l,["prevent"]),class:"inline-block px-6 py-2 bg-blue-500 text-white font-semibold rounded-lg hover:bg-blue-700 transition duration-300"}," Ir a Pagar ")])])):(a(),d("div",Z," El carrito está vacío. "))]))}},H={class:"py-12"},W={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},X={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},F={class:"p-6 text-gray-900 dark:text-gray-100"},N={id:"contenido_principal"},T={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"},sr={__name:"catalogo",setup(t){const n=C(),i=m(n.props.productos),s=m([]),l=()=>{s.value=[]};p(()=>{var o;return((o=window.Laravel)==null?void 0:o.roles)||[]}),p(()=>{var o;return((o=window.Laravel)==null?void 0:o.permissions)||[]}),p(()=>{var o;return((o=window.Laravel)==null?void 0:o.user)||{}});const u=o=>{const e=s.value.find(g=>g.id===o.id);e?(e.cantidad+=1,e.total=e.cantidad*e.precio):s.value.push({...o,cantidad:1,total:o.precio})};return(o,e)=>(a(),d(y,null,[b(S(I),{title:"Productos"}),b(v,null,{header:x(()=>e[0]||(e[0]=[r("h2",{class:"text-xl font-semibold leading-tight text-gray-800"}," Ventas ",-1)])),default:x(()=>[r("div",null,[r("div",H,[r("div",W,[r("div",X,[r("div",F,[r("section",N,[r("div",T,[(a(!0),d(y,null,k(i.value,g=>(a(),j(R,{key:g.id,producto:g,onAgregarCarrito:u},null,8,["producto"]))),128))])])])])])]),b(G,{carrito:s.value,onCompraRealizada:l},null,8,["carrito"])])]),_:1})],64))}};export{sr as default};
