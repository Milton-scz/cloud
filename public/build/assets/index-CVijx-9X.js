import{_ as P}from"./AuthenticatedLayout-D5lz5BQL.js";import{Q as V,p as x,h as m,q as B,f as a,a as i,u as c,w as r,F as _,o as n,Z as L,b as t,j as y,d as g,g as u,l as f,t as l,c as v}from"./app-l7-T_QVc.js";import"./ApplicationLogo-Dn1V6JC9.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const j={class:"py-12"},D={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},E={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},$={class:"p-6 text-gray-900 dark:text-gray-100"},F={id:"contenido_principal"},M={class:"col-md-12",style:{"margin-top":"10px"}},q={key:0,class:"col-md-12 mb-4"},z={class:"col-md-12"},A={class:"box box-default",style:{border:"1px solid #0c0c0c"}},I={class:"max-w-7xl mx-auto sm:px-6 lg:px-8",style:{padding:"10px"}},Q={style:{height:"100%",overflow:"auto"}},T={class:"table table-bordered table-condensed table-striped",style:{width:"100%"}},U={style:{"text-align":"center"}},Z={style:{"text-align":"center"}},G={style:{"text-align":"center"}},H={style:{"text-align":"center"}},J={style:{"text-align":"center"}},K=["src"],O={style:{"text-align":"center"}},R={style:{"text-align":"center"}},W=["onClick"],X={class:"my-4"},Y={key:0,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm z-50 transition-opacity"},tt={class:"bg-white dark:bg-gray-900 p-6 rounded-2xl shadow-xl w-96 transform transition-all scale-95 hover:scale-100"},et={class:"text-xl font-semibold text-gray-800 dark:text-gray-100 mb-4 text-center"},st={class:"text-blue-500"},ot={class:"mb-4"},nt={class:"max-w-7xl mx-auto sm:px-6 lg:px-8",style:{padding:"10px"}},lt={style:{height:"100%",overflow:"auto"}},at={class:"table table-bordered table-condensed table-striped",style:{width:"100%"}},rt={style:{"text-align":"center"}},dt={style:{"text-align":"center"}},it={class:"flex justify-end gap-2"},mt={__name:"index",setup(ct){const w=V(),b=x(w.props.productos),d=x(null),k=e=>{console.log(e),b.value=e.props.productos},h=x(!1);m(()=>{var e;return((e=window.Laravel)==null?void 0:e.roles)||[]});const C=m(()=>{var e;return((e=window.Laravel)==null?void 0:e.permissions)||[]});m(()=>{var e;return((e=window.Laravel)==null?void 0:e.user)||{}});const S=e=>{d.value=e,console.log("dddd",d),h.value=!0},p=e=>C.value[e]===!0;return(e,s)=>{const N=B("pagination");return n(),a(_,null,[i(c(L),{title:"Productos"}),i(P,null,{header:r(()=>s[1]||(s[1]=[t("h2",{class:"text-xl font-semibold leading-tight text-gray-800"}," Productos ",-1)])),default:r(()=>[t("div",null,[t("div",j,[t("div",D,[t("div",E,[t("div",$,[t("section",F,[t("div",M,[p("crear-producto")?(n(),a("div",q,[i(c(y),{href:e.route("admin.productos.create"),method:"get",as:"button",class:"bg-blue-500 text-white px-4 py-2 rounded"},{default:r(()=>s[2]||(s[2]=[g(" Crear Producto ")])),_:1},8,["href"])])):u("",!0)]),t("div",z,[t("div",A,[t("div",I,[t("div",Q,[t("table",T,[s[5]||(s[5]=t("thead",null,[t("th",{colspan:"5"})],-1)),s[6]||(s[6]=t("thead",{style:{"background-color":"#dff1ff"}},[t("th",{style:{"text-align":"center"}},"Nro"),t("th",{style:{"text-align":"center"}},"Nombre"),t("th",{style:{"text-align":"center"}},"Stock"),t("th",{style:{"text-align":"center"}},"Precio"),t("th",{style:{"text-align":"center"}},"Categoria"),t("th",{style:{"text-align":"center"}},"Imagen"),t("th",{style:{"text-align":"center"}},"Descripcion"),t("th",{style:{"text-align":"center"}},"Acción")],-1)),t("tbody",null,[(n(!0),a(_,null,f(b.value,o=>(n(),a("tr",{key:o.id},[t("td",U,l(o.id),1),t("td",Z,l(o.nombre),1),t("td",G,l(o.stock_total),1),t("td",H,l(o.precio),1),t("td",J,l(o.categoria?o.categoria.nombre:"Sin categoría"),1),t("td",null,[t("img",{class:"h-16",src:o.imagen},null,8,K)]),t("td",O,l(o.descripcion),1),t("td",R,[t("button",{onClick:gt=>S(o),class:"bg-green-500 text-white p-2 rounded"},"Ver stock",8,W),p("editar-producto")?(n(),v(c(y),{key:0,href:e.route("admin.productos.edit",o),method:"get",class:"bg-yellow-500 text-white p-2 rounded",as:"button"},{default:r(()=>s[3]||(s[3]=[g(" Editar")])),_:2},1032,["href"])):u("",!0),p("eliminar-producto")?(n(),v(c(y),{key:1,onSuccess:k,href:e.route("admin.productos.destroy",o),method:"delete",class:"bg-red-500 text-white p-2 rounded",as:"button"},{default:r(()=>s[4]||(s[4]=[g(" Eliminar")])),_:2},1032,["href"])):u("",!0)])]))),128))])])])]),t("div",X,[i(N,{"current-page":e.currentPage,"total-pages":e.totalPages,onChange:e.loadUsers},null,8,["current-page","total-pages","onChange"])])])])])])])])]),h.value?(n(),a("div",Y,[t("div",tt,[t("h2",et,[s[7]||(s[7]=g(" Stock en almacenes del producto: ")),t("span",st,l(d.value.nombre),1)]),t("div",ot,[t("div",nt,[t("div",lt,[t("table",at,[s[8]||(s[8]=t("thead",null,[t("th",{colspan:"5"})],-1)),s[9]||(s[9]=t("thead",{style:{"background-color":"#dff1ff"}},[t("th",{style:{"text-align":"center"}},"Nombre almacen"),t("th",{style:{"text-align":"center"}},"Stock")],-1)),t("tbody",null,[(n(!0),a(_,null,f(d.value.almacenes,o=>(n(),a("tr",{key:o.id},[t("td",rt,l(o.nombre),1),t("td",dt,l(o.pivot.stock),1)]))),128))])])])])]),t("div",it,[t("button",{onClick:s[0]||(s[0]=o=>h.value=!1),class:"px-4 py-2 bg-gray-400 hover:bg-gray-500 text-white rounded-lg transition"},"Cancelar")])])])):u("",!0)])]),_:1})],64)}}};export{mt as default};
