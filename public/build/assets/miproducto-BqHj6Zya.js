import{p as g,f as a,b as e,a as y,w,u as k,F as p,l as C,t as m,e as h,i as d,m as n,g as V,o as i,j as M,bX as L}from"./app-l7-T_QVc.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";const j={class:"relative bg-white dark:bg-gray-700 shadow rounded-lg p-4 flex flex-col"},q=["src"],B={class:"text-lg font-bold text-gray-800 dark:text-gray-100 mt-2"},O={class:"text-sm text-gray-600 dark:text-gray-400 mt-2"},N={class:"flex items-center mt-2"},z=["onClick"],D=["onClick"],E={class:"ml-2 text-sm text-gray-500 dark:text-gray-400"},F={class:"text-lg font-semibold text-gray-800 dark:text-gray-100 mt-2"},I={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50"},$={class:"bg-white p-6 rounded-lg shadow-lg max-w-sm w-full"},P={class:"mb-4"},R={class:"mb-4"},S={class:"mb-4"},_={class:"mb-4"},H={class:"mb-4"},T={class:"mb-4"},X={__name:"miproducto",props:{producto:Object},setup(s,{emit:A}){const u=s;u.producto&&typeof u.producto.isOfert=="string"&&(u.producto.isOfert=parseInt(u.producto.isOfert,10));const c=g(!1),l=g({name:"",email:"",cedula:"",celular:"",producto_id:u.producto.id,puntuacion:0,comentario:""}),x=r=>{l.value.puntuacion=r,c.value=!0},f=()=>{c.value=!1},b=()=>{console.log(l.value),L.post(route("landing.ratings.storerating"),l.value).then(r=>{console.log("Exito",r),window.location.reload()}).catch(r=>{console.log("Hubo un error",r.response.data)}),f()};return(r,t)=>(i(),a(p,null,[e("div",j,[y(k(M),{href:r.route("landing.miproducto.details",s.producto.id),method:"get"},{default:w(()=>[e("img",{src:s.producto.imagen,alt:"Imagen del producto",class:"h-48 w-full object-cover rounded-t-lg"},null,8,q),e("h3",B,m(s.producto.nombre),1),e("p",O,m(s.producto.descripcion),1)]),_:1},8,["href"]),e("div",N,[(i(),a(p,null,C(5,o=>(i(),a(p,{key:o},[o<=s.producto.averageRating?(i(),a("svg",{key:0,xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",class:"w-5 h-5 text-yellow-500 cursor-pointer",viewBox:"0 0 20 20",onClick:v=>x(o)},t[6]||(t[6]=[e("path",{"fill-rule":"evenodd",d:"M10 15.27l4.18 2.18-1.64-5.15L18 7.27l-5.19-.42L10 2 7.19 6.85 2 7.27l4.46 4.03-1.64 5.15L10 15.27z","clip-rule":"evenodd"},null,-1)]),8,z)):(i(),a("svg",{key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",class:"w-5 h-5 text-gray-300",viewBox:"0 0 20 20","stroke-width":"2",onClick:v=>x(o)},t[7]||(t[7]=[e("path",{"fill-rule":"evenodd",d:"M10 15.27l4.18 2.18-1.64-5.15L18 7.27l-5.19-.42L10 2 7.19 6.85 2 7.27l4.46 4.03-1.64 5.15L10 15.27z","clip-rule":"evenodd"},null,-1)]),8,D))],64))),64)),e("span",E,m(s.producto.averageRating),1)]),e("p",F,"$ "+m(s.producto.precio),1)]),c.value?(i(),a("div",I,[e("div",$,[t[15]||(t[15]=e("h2",{class:"text-xl font-bold mb-4"},"Califica este Producto",-1)),e("form",{onSubmit:h(b,["prevent"])},[e("div",P,[t[8]||(t[8]=e("label",{for:"name",class:"block text-sm font-medium text-gray-700"},"Nombre",-1)),d(e("input",{type:"text",id:"name","onUpdate:modelValue":t[0]||(t[0]=o=>l.value.name=o),class:"w-full px-4 py-2 mt-2 border rounded-md",required:""},null,512),[[n,l.value.name]])]),e("div",R,[t[9]||(t[9]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"Correo electrónico",-1)),d(e("input",{type:"email",id:"email","onUpdate:modelValue":t[1]||(t[1]=o=>l.value.email=o),class:"w-full px-4 py-2 mt-2 border rounded-md",required:""},null,512),[[n,l.value.email]])]),e("div",S,[t[10]||(t[10]=e("label",{for:"cedula",class:"block text-sm font-medium text-gray-700"},"Cédula",-1)),d(e("input",{type:"text",id:"cedula","onUpdate:modelValue":t[2]||(t[2]=o=>l.value.cedula=o),class:"w-full px-4 py-2 mt-2 border rounded-md",required:""},null,512),[[n,l.value.cedula]])]),e("div",_,[t[11]||(t[11]=e("label",{for:"celular",class:"block text-sm font-medium text-gray-700"},"Celular",-1)),d(e("input",{type:"text",id:"celular","onUpdate:modelValue":t[3]||(t[3]=o=>l.value.celular=o),class:"w-full px-4 py-2 mt-2 border rounded-md",required:""},null,512),[[n,l.value.celular]])]),e("div",H,[t[12]||(t[12]=e("label",{for:"puntuacion",class:"block text-sm font-medium text-gray-700"},"Calificación",-1)),d(e("input",{type:"number",id:"puntuacion","onUpdate:modelValue":t[4]||(t[4]=o=>l.value.puntuacion=o),class:"w-full px-4 py-2 mt-2 border rounded-md",min:"1",max:"5",required:""},null,512),[[n,l.value.puntuacion]])]),e("div",T,[t[13]||(t[13]=e("label",{for:"comentario",class:"block text-sm font-medium text-gray-700"},"Comentario",-1)),d(e("textarea",{id:"comentario","onUpdate:modelValue":t[5]||(t[5]=o=>l.value.comentario=o),class:"w-full px-4 py-2 mt-2 border rounded-md",rows:"4"},null,512),[[n,l.value.comentario]])]),e("div",{class:"flex justify-end"},[t[14]||(t[14]=e("button",{type:"submit",class:"bg-blue-500 text-white px-4 py-2 rounded-md"},"Enviar",-1)),e("button",{onClick:f,type:"button",class:"ml-2 bg-gray-500 text-white px-4 py-2 rounded-md"},"Cerrar")])],32)])])):V("",!0)],64))}},K=U(X,[["__scopeId","data-v-e9be69b6"]]);export{K as default};
