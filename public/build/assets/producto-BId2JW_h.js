import{p as f,f as r,b as t,g as b,a as V,w as O,u as L,F as p,l as M,t as n,e as U,i as u,m as c,o as d,j,bX as q}from"./app-l7-T_QVc.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";const $={class:"relative bg-white dark:bg-gray-700 shadow rounded-lg p-4 flex flex-col"},D={key:0,class:"absolute top-0 left-0 w-full bg-red-500 text-white text-xs font-bold text-center py-1"},F=["src"],N={class:"text-lg font-bold text-gray-800 dark:text-gray-100 mt-2"},z={class:"text-sm text-gray-600 dark:text-gray-400 mt-2"},I={class:"flex items-center mt-2"},P=["onClick"],A=["onClick"],E={class:"ml-2 text-sm text-gray-500 dark:text-gray-400"},R={key:1,class:"mt-2"},S={class:"text-lg font-semibold text-gray-800 dark:text-gray-100"},_={class:"line-through"},H={class:"ml-2 text-red-500"},T={class:"text-sm text-gray-600 dark:text-gray-400"},X={key:2},G={class:"text-lg font-semibold text-gray-800 dark:text-gray-100"},J={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50"},K={class:"bg-white p-6 rounded-lg shadow-lg max-w-sm w-full"},Q={class:"mb-4"},W={class:"mb-4"},Y={class:"mb-4"},Z={class:"mb-4"},tt={class:"mb-4"},et={class:"mb-4"},ot={__name:"producto",props:{producto:Object},setup(s,{emit:v}){const i=s;i.producto&&typeof i.producto.isOferta=="string"&&(i.producto.isOferta=parseInt(i.producto.isOferta,10));const y=v,m=f(!1),l=f({name:"",email:"",cedula:"",celular:"",producto_id:i.producto.id,puntuacion:0,comentario:""}),x=a=>{l.value.puntuacion=a,m.value=!0},g=()=>{m.value=!1},w=()=>{console.log(l.value),q.post(route("landing.ratings.storerating"),l.value).then(a=>{console.log("Éxito",a),window.location.reload()}).catch(a=>{console.log("Hubo un error",a.response.data)}),g()},k=()=>{y("agregar-carrito",i.producto)},h=(a,e)=>(a-a*e/100).toFixed(2);return(a,e)=>(d(),r(p,null,[t("div",$,[s.producto.isOferta===1?(d(),r("div",D," ¡Oferta! ")):b("",!0),V(L(j),{href:a.route("landing.producto.details",s.producto.id),method:"get"},{default:O(()=>[t("img",{src:s.producto.imagen,alt:"Imagen del producto",class:"h-48 w-full object-cover rounded-t-lg"},null,8,F),t("h3",N,n(s.producto.nombre),1),t("p",z,n(s.producto.descripcion),1)]),_:1},8,["href"]),t("div",I,[(d(),r(p,null,M(5,o=>(d(),r(p,{key:o},[o<=s.producto.averageRating?(d(),r("svg",{key:0,xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",class:"w-5 h-5 text-yellow-500 cursor-pointer",viewBox:"0 0 20 20",onClick:C=>x(o)},e[6]||(e[6]=[t("path",{"fill-rule":"evenodd",d:"M10 15.27l4.18 2.18-1.64-5.15L18 7.27l-5.19-.42L10 2 7.19 6.85 2 7.27l4.46 4.03-1.64 5.15L10 15.27z","clip-rule":"evenodd"},null,-1)]),8,P)):(d(),r("svg",{key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",class:"w-5 h-5 text-gray-300",viewBox:"0 0 20 20","stroke-width":"2",onClick:C=>x(o)},e[7]||(e[7]=[t("path",{"fill-rule":"evenodd",d:"M10 15.27l4.18 2.18-1.64-5.15L18 7.27l-5.19-.42L10 2 7.19 6.85 2 7.27l4.46 4.03-1.64 5.15L10 15.27z","clip-rule":"evenodd"},null,-1)]),8,A))],64))),64)),t("span",E,n(s.producto.averageRating),1)]),s.producto.isOferta===1?(d(),r("div",R,[t("p",S,[t("span",_,"$ "+n(s.producto.precio),1),t("span",H,"$ "+n(h(s.producto.precio,s.producto.descuento)),1)]),t("p",T,"Ahorras "+n(s.producto.descuento)+"%",1)])):(d(),r("div",X,[t("p",G,"$ "+n(s.producto.precio),1)])),t("button",{onClick:k,class:"mt-auto bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-md"}," Agregar al Carrito ")]),m.value?(d(),r("div",J,[t("div",K,[e[15]||(e[15]=t("h2",{class:"text-xl font-bold mb-4"},"Califica este Producto",-1)),t("form",{onSubmit:U(w,["prevent"])},[t("div",Q,[e[8]||(e[8]=t("label",{for:"name",class:"block text-sm font-medium text-gray-700"},"Nombre",-1)),u(t("input",{type:"text",id:"name","onUpdate:modelValue":e[0]||(e[0]=o=>l.value.name=o),class:"w-full px-4 py-2 mt-2 border rounded-md text-gray-900 dark:text-gray-600",required:""},null,512),[[c,l.value.name]])]),t("div",W,[e[9]||(e[9]=t("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"Correo electrónico",-1)),u(t("input",{type:"email",id:"email","onUpdate:modelValue":e[1]||(e[1]=o=>l.value.email=o),class:"w-full px-4 py-2 mt-2 border rounded-md text-black !important",required:""},null,512),[[c,l.value.email]])]),t("div",Y,[e[10]||(e[10]=t("label",{for:"cedula",class:"block text-sm font-medium text-gray-700"},"Cédula",-1)),u(t("input",{type:"text",id:"cedula","onUpdate:modelValue":e[2]||(e[2]=o=>l.value.cedula=o),class:"w-full px-4 py-2 mt-2 border rounded-md text-black",required:""},null,512),[[c,l.value.cedula]])]),t("div",Z,[e[11]||(e[11]=t("label",{for:"celular",class:"block text-sm font-medium text-gray-700"},"Celular",-1)),u(t("input",{type:"text",id:"celular","onUpdate:modelValue":e[3]||(e[3]=o=>l.value.celular=o),class:"w-full px-4 py-2 mt-2 border rounded-md text-black",required:""},null,512),[[c,l.value.celular]])]),t("div",tt,[e[12]||(e[12]=t("label",{for:"puntuacion",class:"block text-sm font-medium text-gray-700"},"Calificación",-1)),u(t("input",{type:"number",id:"puntuacion","onUpdate:modelValue":e[4]||(e[4]=o=>l.value.puntuacion=o),class:"w-full px-4 py-2 mt-2 border rounded-md text-black",min:"1",max:"5",required:""},null,512),[[c,l.value.puntuacion]])]),t("div",et,[e[13]||(e[13]=t("label",{for:"comentario",class:"block text-sm font-medium text-gray-700"},"Comentario",-1)),u(t("textarea",{id:"comentario","onUpdate:modelValue":e[5]||(e[5]=o=>l.value.comentario=o),class:"w-full px-4 py-2 mt-2 border rounded-md text-black",rows:"4"},null,512),[[c,l.value.comentario]])]),t("div",{class:"flex justify-end"},[e[14]||(e[14]=t("button",{type:"submit",class:"bg-blue-500 text-white px-4 py-2 rounded-md"},"Enviar",-1)),t("button",{onClick:g,type:"button",class:"ml-2 bg-gray-500 text-white px-4 py-2 rounded-md"},"Cerrar")])],32)])])):b("",!0)],64))}},at=B(ot,[["__scopeId","data-v-cb598df9"]]);export{at as default};
