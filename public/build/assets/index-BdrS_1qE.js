import{Q as F,p as d,h as x,q as L,f as r,a as c,u as v,w as u,F as h,o as a,Z as D,b as e,j as f,d as i,g as _,l as b,t as l,c as M}from"./app-l7-T_QVc.js";import{_ as S}from"./AuthenticatedLayout-D5lz5BQL.js";import"./ApplicationLogo-Dn1V6JC9.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const j={class:"py-12"},E={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},G={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},T={class:"p-6 text-gray-900 dark:text-gray-100"},$={id:"contenido_principal"},q={class:"col-md-12",style:{"margin-top":"10px"}},A={key:0,class:"col-md-12 mb-4"},I={class:"col-md-12"},O={class:"box box-default",style:{border:"1px solid #0c0c0c"}},Q={class:"max-w-7xl mx-auto sm:px-6 lg:px-8",style:{padding:"10px"}},U={style:{height:"100%",overflow:"auto"}},Z={class:"table table-bordered table-condensed table-striped",style:{width:"100%"}},z={style:{"text-align":"center"}},H={style:{"text-align":"center"}},J={style:{"text-align":"center"}},K={style:{"text-align":"center"}},R=["onClick"],W={class:"my-4"},X={key:0,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50"},Y={class:"bg-white rounded-lg shadow-lg w-2/3 p-4"},ne={__name:"index",setup(ee){const p=F(),g=d(p.props.notascompras.data),w=d(p.props.notascompras.current_page),k=d(p.props.notascompras.last_page);console.log("notas compras:",g.value),x(()=>{var t;return((t=window.Laravel)==null?void 0:t.roles)||[]});const C=x(()=>{var t;return((t=window.Laravel)==null?void 0:t.permissions)||[]});x(()=>{var t;return((t=window.Laravel)==null?void 0:t.user)||{}});const y=t=>C.value[t]===!0,N=t=>{g.value=t.props.notascompras.data},m=d(!1),n=d(null),P=t=>{n.value=t,console.log("nota compra:",n.value),m.value=!0},V=()=>{m.value=!1,n.value=null};return(t,s)=>{const B=L("pagination");return a(),r(h,null,[c(v(D),{title:"Notas Compras"}),c(S,null,{header:u(()=>s[0]||(s[0]=[e("h2",{class:"text-xl font-semibold leading-tight text-gray-800"},"Notas de Compra",-1)])),default:u(()=>[e("div",j,[e("div",E,[e("div",G,[e("div",T,[e("section",$,[e("div",q,[y("crear-nota-compra")?(a(),r("div",A,[c(v(f),{href:t.route("admin.notascompras.create"),class:"bg-blue-500 text-white px-4 py-2 rounded"},{default:u(()=>s[1]||(s[1]=[i("Crear")])),_:1},8,["href"])])):_("",!0)]),e("div",I,[e("div",O,[e("div",Q,[e("div",U,[e("table",Z,[s[3]||(s[3]=e("thead",{style:{"background-color":"#dff1ff"}},[e("th",{style:{"text-align":"center"}},"Nit Proveedor"),e("th",{style:{"text-align":"center"}},"Fecha"),e("th",{style:{"text-align":"center"}},"Glosa"),e("th",{style:{"text-align":"center"}},"AcciÃ³n")],-1)),e("tbody",null,[(a(!0),r(h,null,b(g.value,o=>(a(),r("tr",{key:o.id},[e("td",z,l(o.proveedor.nit),1),e("td",H,l(o.fecha),1),e("td",J,l(o.glosa),1),e("td",K,[e("button",{onClick:te=>P(o),class:"bg-green-500 text-white p-2 rounded"},"Ver",8,R),y("eliminar-nota-compra")?(a(),M(v(f),{key:0,onSuccess:N,href:t.route("admin.notascompras.destroy",o),method:"delete",class:"bg-red-500 text-white p-2 rounded"},{default:u(()=>s[2]||(s[2]=[i("Eliminar")])),_:2},1032,["href"])):_("",!0)])]))),128))])])])]),e("div",W,[c(B,{"current-page":w.value,"total-pages":k.value,onChange:t.loadUsers},null,8,["current-page","total-pages","onChange"])])])])])])])])]),m.value?(a(),r("div",X,[e("div",Y,[s[7]||(s[7]=e("h3",{class:"text-xl font-bold mb-4"},"Detalle de Nota de Compra",-1)),e("p",null,[s[4]||(s[4]=e("strong",null,"Proveedor NIT:",-1)),i(" "+l(n.value.proveedor.nit),1)]),e("p",null,[s[5]||(s[5]=e("strong",null,"Fecha:",-1)),i(" "+l(n.value.fecha),1)]),e("p",null,[s[6]||(s[6]=e("strong",null,"Glosa:",-1)),i(" "+l(n.value.glosa),1)]),s[8]||(s[8]=e("p",null,[e("strong",null,"Productos:")],-1)),e("ul",null,[(a(!0),r(h,null,b(n.value.productos,o=>(a(),r("li",{key:o.id},l(o.nombre)+" - "+l(o.cantidad)+" x "+l(o.precio),1))),128))]),e("button",{onClick:V,class:"bg-red-500 text-white px-4 py-2 rounded mt-4"},"Cerrar")])])):_("",!0)]),_:1})],64)}}};export{ne as default};
