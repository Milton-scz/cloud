import{_ as S}from"./AuthenticatedLayout-D5lz5BQL.js";import{Q as $,h as g,p as m,q as B,f as n,a as v,u as p,w as d,F as x,o as l,Z as D,b as e,j as h,d as _,g as i,l as N,t as o,c as f,n as L}from"./app-l7-T_QVc.js";import{d as V}from"./index-DUepgUvg.js";import"./ApplicationLogo-Dn1V6JC9.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const j={class:"py-12"},q={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},z={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},A={class:"p-6 text-gray-900 dark:text-gray-100"},F={id:"contenido_principal"},I={class:"col-md-12",style:{"margin-top":"10px"}},Q={key:0,class:"col-md-12 mb-4"},R={class:"col-md-12"},T={class:"box box-default",style:{border:"1px solid #0c0c0c"}},Z={class:"max-w-7xl mx-auto sm:px-6 lg:px-8",style:{padding:"10px"}},G={style:{height:"100%",overflow:"auto"}},H={class:"table table-bordered table-condensed table-striped",style:{width:"100%"}},J={style:{"text-align":"center"}},K={style:{"text-align":"center"}},O={style:{"text-align":"center"}},W={style:{"text-align":"center"}},X={style:{"text-align":"center"}},Y={style:{"text-align":"center"}},ee={style:{"text-align":"center"}},te={class:"mt-4 flex justify-center gap-2"},se=["onClick","disabled"],ae={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},ue={__name:"index",setup(le){const P=$();g(()=>{var t;return((t=window.Laravel)==null?void 0:t.roles)||[]});const U=g(()=>{var t;return((t=window.Laravel)==null?void 0:t.permissions)||[]});g(()=>{var t;return((t=window.Laravel)==null?void 0:t.user)||{}});const y=t=>U.value[t]===!0,E=t=>{console.log(t),w.value=t.props.users.data},r=m(P.props.users||{}),w=m(r.value.data||[]),k=m(r.value.current_page||1),u=m(r.value.last_page||1),b=t=>{t&&V.Inertia.get(t,{},{preserveState:!0,replace:!0})},M=g(()=>{let t=k.value-1,s=k.value+1;return t<1&&(t=1,s=Math.min(3,u.value)),s>u.value&&(s=u.value,t=Math.max(u.value-2,1)),r.value.links.filter(c=>{if(isNaN(c.label))return!1;const a=Number(c.label);return a>=t&&a<=s})});return(t,s)=>{const c=B("modal");return l(),n(x,null,[v(p(D),{title:"Usuarios"}),v(S,null,{header:d(()=>s[4]||(s[4]=[e("h2",{class:"text-xl font-semibold leading-tight text-gray-800"}," Usuarios ",-1)])),default:d(()=>[e("div",null,[e("div",j,[e("div",q,[e("div",z,[e("div",A,[e("section",F,[e("div",I,[y("crear-usuario")?(l(),n("div",Q,[v(p(h),{href:t.route("admin.users.create"),method:"get",as:"button",class:"bg-blue-500 text-white px-4 py-2 rounded"},{default:d(()=>s[5]||(s[5]=[_(" Crear ")])),_:1},8,["href"])])):i("",!0)]),e("div",R,[e("div",T,[e("div",Z,[e("div",G,[e("table",H,[s[8]||(s[8]=e("thead",null,[e("th",{colspan:"5"})],-1)),s[9]||(s[9]=e("thead",{style:{"background-color":"#dff1ff"}},[e("tr",null,[e("th",{style:{"text-align":"center"}},"Nro"),e("th",{style:{"text-align":"center"}},"Nombre"),e("th",{style:{"text-align":"center"}},"Cedula"),e("th",{style:{"text-align":"center"}},"Celular"),e("th",{style:{"text-align":"center"}},"Direccion"),e("th",{style:{"text-align":"center"}},"Roles"),e("th",{style:{"text-align":"center"}},"Email"),e("th",{style:{"text-align":"center"}},"Acción")])],-1)),e("tbody",null,[(l(!0),n(x,null,N(w.value,a=>(l(),n("tr",{key:a.id},[e("td",J,o(a.id),1),e("td",K,o(a.name),1),e("td",O,o(a.cedula),1),e("td",W,o(a.celular),1),e("td",X,o(a.direccion),1),e("td",null,o(a.roles?a.roles.map(C=>C.name).join(", "):"No roles available"),1),e("td",Y,o(a.email),1),e("td",ee,[y("editar-usuario")?(l(),f(p(h),{key:0,href:t.route("admin.users.edit",a),method:"get",class:"bg-yellow-500 text-white p-2 rounded",as:"button"},{default:d(()=>s[6]||(s[6]=[_(" Editar")])),_:2},1032,["href"])):i("",!0),y("eliminar-usuario")?(l(),f(p(h),{key:1,onSuccess:E,href:t.route("admin.users.destroy",a),method:"delete",class:"bg-red-500 text-white p-2 rounded",as:"button"},{default:d(()=>s[7]||(s[7]=[_(" Eliminar")])),_:2},1032,["href"])):i("",!0)])]))),128))])]),e("div",te,[r.value.prev_page_url?(l(),n("button",{key:0,onClick:s[0]||(s[0]=a=>b(r.value.prev_page_url)),class:"px-4 py-2 rounded border bg-gray-100 text-gray-600 hover:bg-gray-200"}," Anterior ")):i("",!0),(l(!0),n(x,null,N(M.value,a=>(l(),n("button",{key:a.url,onClick:C=>b(a.url),disabled:!a.url||a.active,class:L(["px-4 py-2 rounded border",{"bg-blue-500 text-white":a.active,"bg-gray-100 text-gray-600 hover:bg-gray-200":!a.active}])},o(a.label),11,se))),128)),r.value.next_page_url?(l(),n("button",{key:1,onClick:s[1]||(s[1]=a=>b(r.value.next_page_url)),class:"px-4 py-2 rounded border bg-gray-100 text-gray-600 hover:bg-gray-200"}," Siguiente ")):i("",!0)])])]),s[10]||(s[10]=e("div",{class:"my-4"},null,-1))])])])])])])]),t.showModal?(l(),f(c,{key:0,onClose:t.closeModal},{header:d(()=>[e("h2",ae," ¿Estás seguro que deseas eliminar al usuario "+o(t.modalUser.name)+"? ",1)]),body:d(()=>s[11]||(s[11]=[e("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," Una vez que se elimine, todos sus recursos y datos serán eliminados permanentemente. ",-1)])),footer:d(()=>[e("button",{onClick:s[2]||(s[2]=(...a)=>t.closeModal&&t.closeModal(...a)),class:"btn btn-secondary"},"Cancelar"),e("button",{onClick:s[3]||(s[3]=a=>t.deleteUser(t.modalUser.id)),class:"btn btn-danger"},"Eliminar Usuario")]),_:1},8,["onClose"])):i("",!0)])]),_:1})],64)}}};export{ue as default};
